<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarUsed - Vehicle History Reports</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- PayPal SDK -->
    <script 
        src="https://www.paypal.com/sdk/js?client-id=BAAs22kpX_5V3OLFvZ9Yw0BJ1o3HegBJ6w2IsAu3HdW5af4hVAKr_DY3v3cTFMrwfyHl7JcOGqtL1ingE4&components=hosted-buttons&disable-funding=venmo&currency=USD">
    </script>
    
    <style>
        :root {
            --primary-color: #0A2463;
            --secondary-color: #D9A273;
            --bg-color: #F8F9FA;
            --surface-color: #FFFFFF;
            --heading-color: #1a202c;
            --text-color: #4a5568;
            --border-color: #e2e8f0;
            --success-color: #10b981;
            --danger-color: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Lexend', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            overflow-x: hidden;
            padding-top: 95px;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Lexend', sans-serif;
            color: var(--heading-color);
            font-weight: 600;
        }

        .btn {
            transition: all 0.3s ease;
            font-weight: 500;
            letter-spacing: 0.5px;
            border-radius: 8px;
            padding: 12px 30px;
            font-size: 0.95rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            box-shadow: 0 4px 6px rgba(10, 36, 99, 0.1);
        }

        .btn-primary:hover {
            background-color: #081c4a;
            border-color: #081c4a;
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(10, 36, 99, 0.2);
        }

        .section-padding {
            padding: 80px 0;
        }

        .section-title {
            margin-bottom: 40px;
        }
        .section-title h2 {
            font-size: 2.5rem;
            font-weight: 600;
            position: relative;
            display: inline-block;
            padding-bottom: 20px;
            line-height: 1.3;
        }
        .section-title h2::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 60px;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 5px;
        }

        /* Navbar Styling */
        .navbar {
            padding: 15px 0;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border-color);
            z-index: 1040;
        }
        .navbar-brand {
            font-weight: 600;
            font-size: 1.6rem;
            color: var(--heading-color) !important;
        }
        .navbar-brand span {
            color: var(--secondary-color);
        }
        .nav-link {
            color: var(--heading-color) !important;
            font-weight: 500;
            margin: 0 10px;
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: var(--secondary-color) !important;
        }

        /* VIN Search Section */
        .vin-search-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, #1a3a8f 100%);
            color: white;
            padding: 100px 0;
            border-radius: 0 0 20px 20px;
        }

        .vin-search-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .vin-search-container h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .vin-search-container p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 40px;
        }

        .vin-form {
            display: flex;
            gap: 15px;
            margin: 30px 0;
        }

        .vin-input {
            flex: 1;
            padding: 18px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Payment Section */
        .payment-section {
            padding: 100px 0;
            display: none;
        }

        .payment-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .payment-header h2 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .payment-header p {
            font-size: 1.1rem;
            color: var(--text-color);
        }

        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .pricing-card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            position: relative;
            border: 2px solid transparent;
        }

        .pricing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.12);
        }

        .pricing-card.popular {
            border-color: var(--secondary-color);
        }

        .popular-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--secondary-color);
            color: white;
            padding: 8px 30px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .pricing-card h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
        }

        .price {
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .popular .price {
            color: var(--secondary-color);
        }

        .pricing-features {
            list-style: none;
            padding: 0;
            margin: 30px 0;
            text-align: left;
        }

        .pricing-features li {
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
        }

        .pricing-features li:last-child {
            border-bottom: none;
        }

        .pricing-features i {
            margin-right: 15px;
            font-size: 1.2rem;
        }

        .feature-included i {
            color: var(--success-color);
        }

        .feature-excluded i {
            color: var(--danger-color);
        }

        .pricing-features span {
            flex: 1;
        }

        /* PayPal Button Container */
        .paypal-button-container {
            margin-top: 20px;
            min-height: 50px;
        }

        /* How to Order Section */
        .how-to-order-section {
            padding: 100px 0;
            background: white;
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .step-card {
            background: white;
            padding: 40px 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            position: relative;
            transition: transform 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-10px);
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 600;
            margin: 0 auto 25px;
        }

        .step-card h4 {
            margin-bottom: 15px;
            color: var(--heading-color);
        }

        /* Contact Section */
        .contact-section {
            padding: 100px 0;
            background: var(--bg-color);
        }

        .contact-form {
            background: white;
            padding: 50px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .form-control {
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(10, 36, 99, 0.1);
        }

        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }

        /* Footer */
        .footer {
            background: var(--heading-color);
            color: white;
            padding: 60px 0 30px;
            margin-top: 0;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }

        .footer-links a {
            color: #e2e8f0;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--secondary-color);
        }

        .footer-copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #a0aec0;
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .vin-search-container h1 {
                font-size: 2.2rem;
            }
            .vin-form {
                flex-direction: column;
            }
            .pricing-cards {
                grid-template-columns: 1fr;
            }
            .footer-links {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
        }

        /* Modal Styling */
        .modal-content {
            border-radius: 15px;
            border: none;
        }

        .modal-header {
            background: var(--primary-color);
            color: white;
            border-radius: 15px 15px 0 0;
            padding: 25px 30px;
        }

        .modal-title {
            color: white;
            font-size: 1.5rem;
        }

        .modal-body {
            padding: 30px;
            max-height: 400px;
            overflow-y: auto;
        }

        .btn-close {
            background: transparent url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e") center/1em auto no-repeat;
            opacity: 0.8;
        }

        .btn-close:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">Car<span>Used</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link" href="#home">Home</a>
                    <a class="nav-link" href="#how-to-order">How to Order</a>
                    <a class="nav-link" href="#contact">Contact Us</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home">
        <!-- VIN Search Section -->
        <div class="vin-search-section">
            <div class="container">
                <div class="vin-search-container">
                    <h1>Get Your Vehicle History Report</h1>
                    <p>Enter your VIN to check vehicle history and get detailed reports</p>
                    
                    <div class="vin-form">
                        <input type="text" class="vin-input" placeholder="Enter 17-character VIN (e.g., JHLRW2H5XKX010064)" id="vinInput">
                        <button class="btn btn-primary" id="searchVinBtn">
                            <i class="fas fa-search"></i> Check Vehicle
                        </button>
                    </div>
                    
                    <p class="mt-3" style="opacity: 0.8;">Your VIN is located on your dashboard or driver's side door jamb</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Payment Section -->
    <section id="payment-section" class="payment-section">
        <div class="container">
            <div class="payment-header">
                <h2>Select Your Report Type</h2>
                <p>Choose the report that best fits your needs for VIN: <strong id="payment-vin"></strong></p>
            </div>
            
            <div class="pricing-cards">
                <div class="pricing-card">
                    <h3>Regular Report</h3>
                    <div class="price">$25</div>
                    <p>Basic vehicle information and specifications</p>
                    
                    <ul class="pricing-features">
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Vehicle Specifications</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Basic History Check</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Dimensions & Weights</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Manufacturer Pricing</span>
                        </li>
                        <li class="feature-excluded">
                            <i class="fas fa-times-circle"></i>
                            <span>Accident History</span>
                        </li>
                        <li class="feature-excluded">
                            <i class="fas fa-times-circle"></i>
                            <span>Sales Records</span>
                        </li>
                        <li class="feature-excluded">
                            <i class="fas fa-times-circle"></i>
                            <span>Detailed Service History</span>
                        </li>
                    </ul>
                    
                    <div class="paypal-button-container" id="paypal-container-H4VCCDRB3LLLN"></div>
                    <p class="mt-2" style="font-size: 0.9rem; color: var(--text-color);">
                        After payment, you'll be redirected to view your report.
                    </p>
                </div>
                
                <div class="pricing-card popular">
                    <div class="popular-badge">MOST POPULAR</div>
                    <h3>Premium Report</h3>
                    <div class="price">$100</div>
                    <p>Complete vehicle history and detailed analysis</p>
                    
                    <ul class="pricing-features">
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Everything in Regular Report</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Complete Accident History</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Detailed Sales Records</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Theft & Title Records</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Service History</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Odometer Verification</span>
                        </li>
                        <li class="feature-included">
                            <i class="fas fa-check-circle"></i>
                            <span>Priority Support</span>
                        </li>
                    </ul>
                    
                    <div class="paypal-button-container" id="paypal-container-premium"></div>
                    <p class="mt-2" style="font-size: 0.9rem; color: var(--text-color);">
                        After payment, you'll be redirected to view your report.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- How to Order Section -->
    <section id="how-to-order" class="how-to-order-section">
        <div class="container">
            <div class="section-title text-center">
                <h2>How to Order</h2>
                <p class="lead">Get your vehicle history report in 3 simple steps</p>
            </div>
            
            <div class="steps-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h4>Enter Your VIN</h4>
                    <p>Locate your 17-character Vehicle Identification Number on your dashboard, door jamb, or registration documents and enter it above.</p>
                </div>
                
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h4>Select Report Type</h4>
                    <p>Choose between our Regular Report ($25) for basic information or Premium Report ($100) for comprehensive history including accidents, sales records, and more.</p>
                </div>
                
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h4>Complete Payment</h4>
                    <p>Click the PayPal button for your chosen report. You'll be redirected to PayPal to complete your payment securely. After payment, you'll view your report.</p>
                </div>
            </div>
            
            <div class="text-center mt-5">
                <p class="mb-3"><strong>Note:</strong> All reports are delivered digitally. No physical copies are mailed.</p>
                <a href="#home" class="btn btn-primary">Get Started Now</a>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <div class="section-title text-center">
                <h2>Contact Us</h2>
                <p class="lead">Have questions? Get in touch with our team</p>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="contact-form">
                        <form id="contactForm" action="https://formspree.io/f/mqazwnyb" method="POST">
                            <div class="row">
                                <div class="col-md-6">
                                    <input type="text" class="form-control" name="name" placeholder="Your Name" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="email" class="form-control" name="email" placeholder="Your Email" required>
                                </div>
                            </div>
                            
                            <input type="text" class="form-control" name="subject" placeholder="Subject" required>
                            
                            <textarea class="form-control" name="message" placeholder="Your Message" required></textarea>
                            
                            <input type="hidden" name="_replyto" value="christiantelemaque@gmail.com">
                            <input type="hidden" name="_subject" value="New Contact Form Submission from CarUsed">
                            
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-paper-plane"></i> Send Message
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-links">
                <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a>
                <a href="#" data-bs-toggle="modal" data-bs-target="#refundModal">Refund Policy</a>
                <a href="#how-to-order">Features</a>
                <a href="#contact">Contact Us</a>
            </div>
            
            <div class="footer-copyright">
                <p>&copy; 2024 CarUsed. All rights reserved. | Vehicle reports are for informational purposes only.</p>
            </div>
        </div>
    </footer>

    <!-- Refund Policy Modal -->
    <div class="modal fade" id="refundModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Refund Policy</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h4>Digital Product Refund Policy</h4>
                    <p><strong>Last Updated: January 1, 2024</strong></p>
                    
                    <h5 class="mt-4">1. No Refunds for Digital Downloads</h5>
                    <p>Due to the nature of digital products, all sales of vehicle history reports are final. Once a report has been accessed, downloaded, or delivered via email, no refunds will be issued under any circumstances.</p>
                    
                    <h5 class="mt-4">2. Product Description</h5>
                    <p>We provide detailed descriptions of our Regular ($25) and Premium ($100) reports on our website. Customers are responsible for reviewing these descriptions before purchase. Refunds will not be granted based on customer expectations that differ from the product description.</p>
                    
                    <h5 class="mt-4">3. Technical Issues</h5>
                    <p>If you experience technical difficulties accessing your report, please contact our support team at support@carused.com. We will work to resolve any legitimate technical issues but cannot issue refunds for reports that have been successfully delivered to your email address.</p>
                    
                    <h5 class="mt-4">4. Data Accuracy Disclaimer</h5>
                    <p>Our reports compile information from various sources. While we strive for accuracy, we cannot guarantee the completeness or accuracy of the information provided. Refunds will not be issued based on the content or accuracy of the information in reports.</p>
                    
                    <h5 class="mt-4">5. Unauthorized Purchases</h5>
                    <p>If you believe your purchase was unauthorized, you must contact us within 24 hours of the purchase date. We will investigate and may issue a refund at our discretion if the claim is validated.</p>
                    
                    <h5 class="mt-4">6. Customer Responsibility</h5>
                    <p>Customers are responsible for ensuring they enter the correct VIN number before purchase. No refunds will be issued for reports generated with incorrect VIN numbers provided by the customer.</p>
                    
                    <h5 class="mt-4">7. Contact Information</h5>
                    <p>For any questions about this policy, please contact us at:</p>
                    <ul>
                        <li>Email: support@carused.com</li>
                        <li>Phone: (555) 123-4567</li>
                        <li>Business Hours: Monday-Friday, 9AM-5PM EST</li>
                    </ul>
                    
                    <div class="alert alert-warning mt-4">
                        <strong>Important:</strong> By purchasing any report from CarUsed, you acknowledge and agree to this no-refund policy for digital products.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div class="modal fade" id="privacyModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Privacy Policy</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h4>Privacy Policy</h4>
                    <p><strong>Last Updated: January 1, 2024</strong></p>
                    <p>CarUsed respects your privacy and is committed to protecting your personal data. This privacy policy will inform you about how we look after your personal data when you visit our website and tell you about your privacy rights.</p>
                    
                    <h5 class="mt-4">Information We Collect</h5>
                    <p>We collect information you provide directly to us, such as when you request a vehicle report, create an account, or contact us for support.</p>
                    
                    <h5 class="mt-4">How We Use Your Information</h5>
                    <p>We use the information we collect to provide, maintain, and improve our services, to process transactions, and to communicate with you.</p>
                    
                    <h5 class="mt-4">Data Security</h5>
                    <p>We implement appropriate technical and organizational measures to protect your personal data against unauthorized access, alteration, disclosure, or destruction.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Add Bootstrap JS for modals and navbar toggle
        const bootstrapScript = document.createElement('script');
        bootstrapScript.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js';
        document.head.appendChild(bootstrapScript);

        // DOM Elements
        const vinInput = document.getElementById('vinInput');
        const searchVinBtn = document.getElementById('searchVinBtn');
        const paymentSection = document.getElementById('payment-section');
        const paymentVin = document.getElementById('payment-vin');

        // State variables
        let currentVin = '';
        let paypalButtonsInitialized = false;

        // Validate VIN
        function validateVIN(vin) {
            return vin.length === 17 && /^[A-HJ-NPR-Z0-9]{17}$/i.test(vin);
        }

        // Show payment options
        function showPaymentOptions(vin) {
            if (validateVIN(vin)) {
                currentVin = vin.toUpperCase();
                paymentVin.textContent = currentVin;
                paymentSection.style.display = 'block';
                
                // Store VIN in sessionStorage for later use
                sessionStorage.setItem('carUsed_vin', currentVin);
                
                // Initialize PayPal buttons if not already done
                if (!paypalButtonsInitialized) {
                    initializePayPalButtons();
                    paypalButtonsInitialized = true;
                }
                
                // Scroll to payment section
                paymentSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                alert('Please enter a valid 17-character VIN. VIN should contain only letters and numbers (except I, O, Q).');
            }
        }

        // Initialize PayPal buttons
        function initializePayPalButtons() {
            // Store VIN before creating buttons
            const vin = sessionStorage.getItem('carUsed_vin') || currentVin;
            
            // Regular Report PayPal Button - $25 (Specific ID provided)
            paypal.HostedButtons({
                hostedButtonId: "H4VCCDRB3LLLN",
                onInit: function(data, actions) {
                    console.log('Regular PayPal button initialized for VIN:', vin);
                },
                onClick: function(data, actions) {
                    // Store the plan in sessionStorage
                    sessionStorage.setItem('carUsed_plan', 'regular');
                    sessionStorage.setItem('carUsed_vin', vin);
                    console.log('Regular report selected for VIN:', vin);
                },
                onApprove: function(data, actions) {
                    // This function is called when the payment is approved
                    console.log('Payment approved for regular report, VIN:', vin);
                    // Redirect to report page after payment
                    setTimeout(() => {
                        window.location.href = 'report.html';
                    }, 2000);
                },
                onError: function(err) {
                    console.error('PayPal error:', err);
                    alert('An error occurred with PayPal. Please try again or contact support.');
                }
            }).render("#paypal-container-H4VCCDRB3LLLN");

            // Premium Report PayPal Button - $100
            // Note: You need to create a separate hosted button for $100 in your PayPal dashboard
            // and replace the hostedButtonId below with your actual premium button ID
            paypal.HostedButtons({
                hostedButtonId: "2B8T5BWD5RDSW", // REPLACE THIS WITH YOUR ACTUAL PREMIUM BUTTON ID
                onInit: function(data, actions) {
                    console.log('Premium PayPal button initialized for VIN:', vin);
                },
                onClick: function(data, actions) {
                    // Store the plan in sessionStorage
                    sessionStorage.setItem('carUsed_plan', 'premium');
                    sessionStorage.setItem('carUsed_vin', vin);
                    console.log('Premium report selected for VIN:', vin);
                },
                onApprove: function(data, actions) {
                    // This function is called when the payment is approved
                    console.log('Payment approved for premium report, VIN:', vin);
                    // Redirect to report page after payment
                    setTimeout(() => {
                        window.location.href = 'report.html';
                    }, 2000);
                },
                onError: function(err) {
                    console.error('PayPal error:', err);
                    alert('An error occurred with PayPal. Please try again or contact support.');
                }
            }).render("#paypal-container-premium");
        }

        // Event Listeners
        searchVinBtn.addEventListener('click', () => {
            const vin = vinInput.value.trim().toUpperCase();
            if (vin) {
                showPaymentOptions(vin);
            } else {
                alert('Please enter a VIN to continue');
            }
        });

        // Handle VIN input Enter key
        vinInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const vin = vinInput.value.trim().toUpperCase();
                if (vin) {
                    showPaymentOptions(vin);
                }
            }
        });

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#home') {
                    // Scroll to top
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                } else {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        // Initialize
        window.onload = () => {
            // Clear VIN input - don't auto-fill from sessionStorage
            vinInput.value = '';
            
            // Hide payment section initially
            paymentSection.style.display = 'none';
            
            // Check if there's a VIN in sessionStorage from previous session
            // But we won't auto-fill it or show payment section
            const storedVin = sessionStorage.getItem('carUsed_vin');
            
            // If user is coming back from report page, clear sessionStorage for new search
            // We'll keep the VIN in sessionStorage only during the current session
            // When page loads fresh, we don't want to auto-populate
        };
        
        // Clear sessionStorage when user goes back to home page intentionally
        window.addEventListener('pageshow', function(event) {
            // If the page is being shown from cache (back/forward navigation)
            // Clear the VIN input field
            vinInput.value = '';
        });
    </script>
</body>
</html>
